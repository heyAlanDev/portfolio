---
import Link from '@components/link.svelte'

interface Props {
  text: string
  as: 'link' | 'button'
  responsive: boolean
  textHoverColor: string
  className: string
}

const {
  text = 'Hire me',
  textHoverColor = '#D2B48C',
  as = 'button',
  responsive = false,
  className,
  ...rest
} = Astro.props
---

<Link
  class={className}
  {text}
  {as}
  {responsive}
  {rest}
  {textHoverColor}
  to="#contact"
/>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const $contactMeLinks = document.querySelectorAll('[href="#contact"]')
    const $firstInput = document.querySelector(
      '#contact input#name'
    ) as HTMLInputElement

    if ($contactMeLinks === null) return
    $contactMeLinks.forEach(link => {
      link.addEventListener('click', e => {
        e.preventDefault()
        if ($firstInput === null) return
        $firstInput.focus()
      })
    })
  })
</script>

---
import CardProject from '@components/card-project.astro'
import Carousel from '@components/carousel.svelte'
import { getLatestRepos, getUsername } from '@lib/services/github'

const latestProjects = await getLatestRepos(20)
const username = await getUsername()
---

<Carousel client:load>
  {
    latestProjects.map((project) => !(project.name === 'portfolio' || project.name === username) && (
      <CardProject
        {...project}
      />
    ))
  }
</Carousel>
